apiVersion: v1
kind: ConfigMap
metadata:
  name: supabase-config
  labels:
    app.kubernetes.io/name: supabase
data:
  # Database
  POSTGRES_HOST: "postgres"
  POSTGRES_PORT: "5432"
  POSTGRES_DB: "postgres"
  POSTGRES_USER: "postgres"

  # API
  PGRST_DB_SCHEMA: "public,storage,graphql_public"
  PGRST_DB_ANON_ROLE: "anon"
  PGRST_DB_USE_LEGACY_GUCS: "false"

  # Auth
  GOTRUE_SITE_URL: "http://localhost:3000"
  GOTRUE_URI_ALLOW_LIST: ""
  GOTRUE_DISABLE_SIGNUP: "false"
  GOTRUE_JWT_EXPIRY: "3600"
  GOTRUE_JWT_DEFAULT_GROUP_NAME: "authenticated"
  GOTRUE_EXTERNAL_EMAIL_ENABLED: "true"
  GOTRUE_MAILER_AUTOCONFIRM: "false"
  GOTRUE_EXTERNAL_PHONE_ENABLED: "true"
  GOTRUE_SMS_AUTOCONFIRM: "true"

  # Kong
  KONG_DNS_ORDER: "LAST,A,CNAME"
  KONG_PLUGINS: "request-transformer,cors,key-auth,acl,basic-auth"
  KONG_NGINX_PROXY_PROXY_BUFFER_SIZE: "160k"
  KONG_NGINX_PROXY_PROXY_BUFFERS: "64 160k"

  # Studio
  STUDIO_DEFAULT_ORGANIZATION: "Default Organization"
  STUDIO_DEFAULT_PROJECT: "Default Project"
  STUDIO_PORT: "3000"
  SUPABASE_PUBLIC_URL: "http://localhost:8000"

  # Realtime
  REALTIME_DB_AFTER_CONNECT_QUERY: "SET search_path TO _realtime"
  REALTIME_TENANT_ID: "realtime-dev"
  REALTIME_REGION: "local"

  # Storage
  STORAGE_BACKEND: "s3"
  FILE_SIZE_LIMIT: "52428800"
  GLOBAL_S3_BUCKET: "supabase-storage"  # Replace with your bucket name
  AWS_DEFAULT_REGION: "us-east-1"       # Replace with your region
